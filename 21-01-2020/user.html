<html>

<head>
    <title>USER</title>
    <link rel="stylesheet" href="stylesheet.css">

    <style>
        .main {
            display: flex;

        }

        table th,
        td {
            border: 1px solid black;
        }
    </style>
</head>

<body>

    <div class="main">
        <div class="dashboard_container">
            <div class="nav">
                <p id="uname"></p>
                <a href="#"> Dashboard</a><br><br>
                <a href="#"> User</a><br><br>
                <a href="#"> Login Session</a><br><br>
                <a href="#"> Logout</a><br><br>

            </div>
        </div>
        <div>
            <h3>Add User</h3>
            <input type="text" placeholder="Name" id="uname"> &nbsp;
            <input type="email" placeholder="Email" id="email"> &nbsp;
            <input type="password" placeholder="password" id="psw"> &nbsp;
            <input type="date" placeholder="Birth Date" id="bdate">
            <input type="button" value="Add User" onclick="add_User()">
            <br><br><br><br><br>
            <table id="print_here" style="border: 1px solid black;">
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Password</th>
                    <th>Birth Date</th>

                </tr>
            </table>

        </div>
    </div>

    <script>

        var name = localStorage.getItem('adminName');

        document.getElementById("uname").innerHTML = "<h4> Hello, " + name + "</h4>";


        var nameArr = [];
        var emailArr = [];
        var pswArr = [];
        var birthDate = [];


        var userData = function (name, email, password, birthdate) {
            this.Name = name;
            this.Email = email;
            this.Password = password;
            this.Birthdate = birthdate;
            //console.log(this.Birthdate);
            //this.Age = 2020 - Number(this.Birthdate.slice(0, 4));
        }

        var userDataList = [];

        function add_User() {
            var name = document.getElementById('uname').value;
            var email = document.getElementById('email').value;
            var password = document.getElementById('psw').value;
            var bdate = document.getElementById('bdate').value;

            //var userDataList = JSON.parse(localStorage.getItem('userDataList'));
            var tempdata = new userData(name, email, password, bdate);
            userDataList.push(tempdata);
            localStorage.setItem("userDataList", JSON.stringify(userDataList));


            console.log(tempdata);
            /*nameArr.push(name);
            emailArr.push(email);
            pswArr.push(password);
            birthDate.push(bdate);
            console.log(name);

            localStorage.setItem("name", JSON.stringify(nameArr));
            localStorage.setItem("email", JSON.stringify(emailArr));
            localStorage.setItem("password", JSON.stringify(pswArr));
            localStorage.setItem("birthdate", JSON.stringify(birthDate));


            var nm = JSON.parse(localStorage.getItem("name"));
            var em = JSON.parse(localStorage.getItem("email"));
            var psw = JSON.parse(localStorage.getItem("password"));
            var bd = JSON.parse(localStorage.getItem("birthdate"));*/

            var userDataList = JSON.parse(localStorage.getItem('userDataList'));
            var data = "<tr><td>Name</td> <td> Email </td> <td> Password </td> <td> Birthdate </td></tr>";
            for (var i = 0; i < userDataList.length; i++) {
                data += '<tr><td>' + userDataList[i].Name + '</td><td>' + userDataList[i].Email + '</td><td>' + userDataList[i].Password + '</td><td>' + userDataList[i].Birthdate + '</td></tr>'
            }
            document.getElementById("print_here").innerHTML = data;

            /*for (var i = 0; i < nm.length; i++) {
                var data = data + "<tr><td>" + nm[i] + "</td><td>" + em[i] + "</td><td>" + psw[i] + "</td><td>" + bd[i] + "</td></tr>";
                document.getElementById("print_here").innerHTML = data;
            }*/



        }


    </script>
</body>

</html>